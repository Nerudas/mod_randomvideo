(function(a){a(document).ready(function(){a("[data-mod_randomvideo]").each(function(){var d=a(this),e=a(d).data("mod_randomvideo"),b=a(d).find(".page_ready"),h=a(d).find(".before_play"),j=a(d).find(".on_play"),i=a(d).find(".after_play"),g=a(d).find(".get_video"),c=a(d).find("video"),f=a(d).find(".stop_video");a(b).show();a(g).on("click",function(){e.current=a(c).attr("src");e.v=Math.floor(Math.random()*6)+1;a.ajax({type:"POST",dataType:"json",url:e.root+"/index.php?option=com_ajax&module=randomvideo&format=json",data:e,beforeSend:function(){a(b).hide();a(i).hide();a(j).hide();a(h).show()},complete:function(){a(h).hide()},success:function(k){if(k.success){var l=k.data;a(c).attr("src",l.src);a(c).attr("type","video/"+l.type);a(c).get(0).play();a(j).show();a(c).on("ended",function(){a(j).hide();a(i).show()});a(f).on("click",function(){a(c).get(0).pause();a(j).hide();a(i).show()})}else{a(i).show();console.error(k.message)}},error:function(k){a(i).show();console.error(k.message)}})})})})})(jQuery);