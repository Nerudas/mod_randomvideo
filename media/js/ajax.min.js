(function(a){a(document).ready(function(){a("[data-mod_randomvideo]").each(function(){var e=a(this),f=a(e).data("mod_randomvideo"),c=a(e).find(".page_ready"),i=a(e).find(".before_play"),k=a(e).find(".on_play"),j=a(e).find(".after_play"),h=a(e).find(".get_video"),d=a(e).find("video"),g=a(e).find(".stop_video"),b=a(e).find(".stop_load");a(c).show();a(h).on("click",function(){f.current=a(d).attr("src");f.v=Math.floor(Math.random()*6)+1;a.ajax({type:"POST",dataType:"json",url:f.root+"/index.php?option=com_ajax&module=randomvideo&format=json",data:f,beforeSend:function(){a(c).hide();a(j).hide();a(k).hide();a(i).show();a(b).on("click",function(){a(i).hide();a(j).show()})},success:function(l){if(l.success){var m=l.data;a(d).attr("src",m.src);a(d).attr("type","video/"+m.type);a(d).get(0).play();a(d).on("play",function(){a(i).hide();a(k).show()});a(d).on("pause",function(){a(k).hide();a(j).show()});a(d).on("ended",function(){a(k).hide();a(j).show()});a(g).on("click",function(){a(d).get(0).pause()})}else{a(i).hide();a(j).show();console.error(l.message)}},error:function(l){a(i).hide();a(j).show();console.error(l.message)}})})})})})(jQuery);